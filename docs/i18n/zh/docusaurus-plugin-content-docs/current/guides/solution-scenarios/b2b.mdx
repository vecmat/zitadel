---
title: B2B
---

import { B2B } from '@site/src/components/b2b';

## 企业对业务

B2B介绍了一个组织与其他组织互动的情况。 此 **多个组织架构** 通常给身份和访问管理系统增加某种形式的复杂性。 在ZITADEL中，一个B2B组织代表一个商业伙伴或伙伴，他们通常有自己的品牌，并且有不同的访问设置，就像为其用户增加一个联邦登录。

B2B可能是一种简单的情况，即一个组织只与另一个组织共享其中一个项目，或者在一个组织向其所有伙伴提供门户应用程序的情况下(自我)管理。

<!-- This guide describes an application  -->
## 示例剧情模式

Octagon 是一家虚构的公司，本指南通篇用来解释这种B2B方案的细节和主要概念。 八角大楼试图解决银行领域的多项任务。 其业务组合包括为其雇员、客户和伙伴提出的几份申请。 其中一些是以网络为基础的，其中一些只供机器用户使用。

### 门户应用程序

Octagon有一个**Portal应用程序**，其员工可以在该应用程序中访问其帐户并列出允许使用的所有应用程序。
- **员工：** 个用户正在使用应用程序作为他们工作的起点。
- **管理员：** 个用户，他们主要使用应用程序管理用户和他们对部门的访问。
- **管理员:** 这个用户可以授予额外的组织或部门并选择管理员。

### 规划方面的考虑

为了定义 **门户应用程序** 的需要，不得不对组织进行一些规划考虑：

- **登录和访问：** 用户是否有一个预设机构登录？ 应用程序是否显示默认登录页面或每个机构是否使用自己的品牌？
- **组织：** 用户在多个组织中是否有访问权限？ 用户是否需要使用不同的联邦登录来为这些组织？
- **角色** 应用程序是否需要用户在其组织内指定特定角色？ 需要哪些角色来启用应用程序的某些功能？

### 登录

您可以决定一个组织是否预选登录，或者用户是否被重定向到默认登录屏幕。 您可以通过在自定义范围内定义组织来将用户发送到特定组织。 (主域) 可以在组织部分 [控制台](https://{your_domain}.zitadel.cloud/ui/console/org) 中设置组织品牌或登录选项。 登录品牌的行为可以在您的项目详细页面中设置。 您可以选择所选组织、用户资源所有者或项目资源所有者的品牌。

### 组织

一般来说，一个用户属于一个组织并由该组织管理，但该用户可以接受多个其他组织的授权（授权的授权）。 无论如何，用户应该能够使用相同的身份在组织间切换。 如果不需要此功能，应该为每个组织创建一个单独的用户。

向项目受众添加来自不同组织的用户与添加新用户授权一样容易(用户赠款)。 用户赠款将来自任何组织的用户与项目和 0-N 角色结合起来。

在我们的样本场景中，我们假定有以下用户：

- **Dimitri:** 一个由八角大楼一部五角大楼雇用的队长。 Dimitri 使用他的Microsoft 帐户和他的一次密码访问门户。 因此，五角大楼将微软设置为身份提供者。 五角大楼还要求其用户以其他因素确保其账户安全。
- **Michael:** 是五角大楼的受训者，仅通过门户访问他的工作区应用。 Michael 使用他的谷歌帐户与他的膝上型计算机指纹。
- **账单：** 在八角大楼被用作门户应用程序的管理员。 账单还使用Microsoft 账户和安全密钥来保护他的账户。

在确定了各组织及其用户的星座之后，所有必要的数据(带有角色和应用的门户项目)， 用户、登录要求、身份提供者、品牌应在 [控制台](https://{your_domain}.zitadel.cloud/ui/console/org) 中设置。 NextJS 的B2B样本应用程序可以在我们的 [示例Repo](https://github.com/zitadel/zitadel-examples) 中找到。

为了使另一个组织能够使用一个项目，必须设立一个项目赠款。 一旦设立，赠款的作用可以限制在项目作用总额的一个子集。

在我们的情况下，八角大楼为五角大楼设立了一个项目赠款。 五角大楼仅限使用 `写作` 和 `阅读器` 角色。 `管理员` 角色是为八角大楼组织本身保留的。

<B2B></B2B>

### 角色

在这种情况下，Dimitri and Michael 与同一组织“五角大楼”，比尔公司属于八角大楼。 Octagon 是其WebApp的门户项目的所有者，其账单配置为用户授予的 `管理员` 角色。 Dimitri 拥有 `写作者` 角色，而Michael 只有 `读者`

> 注意：角色是为了内部业务逻辑，因此需要单独验证。 上述任何用户至少如果不拥有ZITADEL管理角色，都不允许创建用户赠款。

如果您创建了一个仪表盘，一些用户可以创建用户赠予， 执行这种操作的管理 API 应以用户的个人访问令牌触发， 无法使用机器用户的标记来创建有意义的审计日志。 如果您有这种情况，则必须将ZITADEL管理角色分配给这些用户。

### 值得关注的

由于ZITADEL含有无限用户、项目和应用程序，并且具有免费一级的所有安全功能， ZITADEL可以被认为是其他SaaS IAM 系统的一个很大的替代办法，如Auth0 or Okta。 在这种情况下，用户能够在炸药中增加可伸缩性的巨大潜力。 ZITADEL并不是瓶颈，因此是一个有效的选择。 您可以在这里学习更多关于ZITADEL的好处和价格 [](https://zitadel.com/pricing)。

### 了解更多

- [创建组织](../manage/console/organizations)
- [组织品牌化](../manage/customize/branding)
- [授权](../integrate/oauth-recommended-flows)